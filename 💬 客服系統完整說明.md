# 💬 線上客服系統 - 完整說明

## ✅ 已更新並同步到 GitHub

---

## 🎯 核心功能

### 1️⃣ **智能自動回覆**
客戶點擊快速選項，立即獲得專業回答：

- 📋 **估價流程** - 說明如何使用系統
- 👤 **真人客服** - 顯示所有聯絡方式
- ⏰ **營業時間** - 告知服務時段
- 🚗 **我要賣車** - 引導賣車流程

### 2️⃣ **完整聯絡資訊** ✅ 已更新

系統自動顯示：
```
📞 客服專線：0911-177-619
📧 Email：a0911177619@yahoo.com.tw
💬 LINE 官方帳號：@288dyysc
```

### 3️⃣ **對話記錄保存** ⭐ 新功能

#### 三重保存機制：

**保存位置 1：瀏覽器 localStorage**
- 即時保存每條對話
- 刷新頁面不會遺失
- 可追蹤完整對話歷史

**保存位置 2：自動發送 Email**
- 每 10 條訊息自動發送
- 發送到：a0911177619@yahoo.com.tw
- 包含完整對話內容和時間戳

**保存位置 3：可導出文字檔**
- 隨時下載對話記錄
- 格式清楚易讀
- 包含 Session ID

---

## 📊 對話記錄內容

每條對話記錄包含：

```javascript
{
  sessionId: "chat_1704123456789_abc123",
  startTime: "2026-01-01T10:30:00.000Z",
  messages: [
    {
      sender: "user",
      message: "我想了解估價流程",
      timestamp: "10:30",
      fullTimestamp: "2026-01-01T10:30:15.123Z"
    },
    {
      sender: "bot",
      message: "我們的估價流程非常簡單...",
      timestamp: "10:30",
      fullTimestamp: "2026-01-01T10:30:16.456Z"
    }
  ]
}
```

---

## 🔔 Email 通知格式

當對話達到 10 條訊息時，您會收到：

```
主旨：💬 秒估車客服對話記錄 - chat_1704123456789_abc123

Session ID: chat_1704123456789_abc123
開始時間: 2026-01-01T10:30:00.000Z
訊息數量: 10

對話內容:

[10:30] 客戶：我想了解估價流程

[10:30] 客服：我們的估價流程非常簡單：
1️⃣ 選擇您的車款廠牌和型號
2️⃣ 輸入出廠年月
...

[10:32] 客戶：如何聯繫真人客服

[10:32] 客服：您可以透過以下方式聯繫我們的專業顧問：
📞 客服專線：0911-177-619
...
```

---

## 🎨 客服視窗外觀

### 聊天按鈕
- 位置：網頁右下角
- 綠色圓形按鈕
- 有未讀訊息時顯示數字徽章

### 聊天視窗
```
┌─────────────────────────────────┐
│ 秒估車客服         🟢 線上服務中 ✕│
├─────────────────────────────────┤
│                                  │
│ 👋 您好！歡迎使用秒估車線上客服  │
│                                  │
│ [📋 估價流程] [👤 真人客服]       │
│ [⏰ 營業時間] [🚗 我要賣車]       │
│                                  │
├─────────────────────────────────┤
│ 輸入訊息...              [➤]    │
└─────────────────────────────────┘
```

---

## 🚀 使用流程

### 客戶端
1. 點擊右下角客服按鈕
2. 看到歡迎訊息和快速選項
3. 點擊或輸入問題
4. 立即獲得回答

### 您的管理端

#### 查看對話記錄（3種方式）

**方式 1：瀏覽器開發者工具**
```javascript
// 按 F12 打開開發者工具，在 Console 輸入：
chatService.getConversationHistory()
```

**方式 2：Email 通知**
- 每 10 條訊息自動收到 Email
- 包含完整對話內容

**方式 3：導出文字檔**
```javascript
// 在開發者工具 Console 輸入：
chatService.exportConversation()
```

---

## 📈 自動回覆內容

### 估價流程
```
我們的估價流程非常簡單：
1️⃣ 選擇您的車款廠牌和型號
2️⃣ 輸入出廠年月
3️⃣ 填寫行駛里程
4️⃣ 立即獲得估價結果

整個過程只需要30秒！
如需更精確的評估，歡迎預約專人到府鑑定。
```

### 真人客服
```
您可以透過以下方式聯繫我們的專業顧問：

📞 客服專線：0911-177-619
📧 Email：a0911177619@yahoo.com.tw
💬 LINE 官方帳號：@288dyysc
👉 點擊下方「加入 LINE 諮詢」按鈕即可直接聯繫！

營業時間內我們會盡快為您服務！
```

### 營業時間
```
⏰ 秒估車營業時間：

週一至週五：09:00 - 21:00
週六：10:00 - 18:00
週日：公休

國定假日營業時間請來電確認。
```

### 我要賣車
```
太好了！讓我們幫您快速賣車 🚗

您可以：
1. 使用上方表單快速估價
2. 點擊「線上一對一諮詢」預約專人服務
3. 直接撥打 0911-177-619

我們提供免費到府鑑定服務，當天即可完成交易！
```

---

## 💡 商業價值

### ✅ 即時回應
- 24/7 自動回覆
- 降低客戶等待時間
- 提升客戶滿意度

### ✅ 完整記錄
- 保存所有對話
- 了解客戶需求
- 優化服務品質

### ✅ 自動通知
- 定期收到對話記錄
- 不遺漏任何潛在客戶
- 便於追蹤和回訪

---

## 🔧 技術細節

### localStorage 保存
```javascript
// 儲存格式
localStorage.setItem('chatHistory_[sessionId]', JSON.stringify({
  sessionId: "...",
  startTime: "...",
  messages: [...]
}));
```

### Email 發送
- 使用 FormSubmit.co 服務
- 每 10 條訊息觸發
- 異步發送不影響用戶體驗

### Session ID 生成
```javascript
'chat_' + 時間戳 + '_' + 隨機字串
// 例如：chat_1704123456789_abc123def
```

---

## 📱 測試建議

1. **打開網站**
   - 訪問：https://kingofcarantiques.github.io/KingofCarAntiques/car-valuation.html

2. **測試聊天功能**
   - 點擊右下角客服按鈕
   - 嘗試快速選項
   - 輸入自訂訊息

3. **檢查對話保存**
   - 按 F12 打開開發者工具
   - Application → Local Storage
   - 查看是否有 chatHistory_ 開頭的資料

4. **測試 Email 通知**
   - 發送 10 條以上訊息
   - 檢查您的信箱 a0911177619@yahoo.com.tw
   - 應該會收到對話記錄

---

## ⚙️ 自訂設定

### 修改營業時間
編輯 `chat.js` 第 28-37 行

### 修改自動回覆內容
編輯 `chat.js` 第 4-61 行

### 修改發送頻率
編輯 `chat.js` 第 304 行
```javascript
// 改為每 5 條訊息發送
if (conversationHistory.messages.length >= 5 && conversationHistory.messages.length % 5 === 0)
```

---

## 🎯 未來可擴充功能

- 📸 客戶上傳車輛照片
- 🤖 AI 智能回覆
- 📊 對話數據分析
- 📞 自動撥打電話功能
- 💾 整合後台管理系統

---

## ✨ 總結

您的客服系統現在具備：

✅ **智能自動回覆** - 4種快速選項
✅ **完整聯絡資訊** - 電話、Email、LINE
✅ **對話記錄保存** - 三重保存機制
✅ **Email 自動通知** - 每 10 條訊息
✅ **可導出記錄** - 文字檔格式
✅ **已同步 GitHub** - 線上版本已更新

**這是一個完整、可靠、專業的客服系統！** 💬✨

---

**有任何問題隨時告訴我！** 🚀
